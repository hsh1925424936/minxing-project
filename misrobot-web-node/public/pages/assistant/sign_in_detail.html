<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="../../js/assistant/layout.js" ></script>
		<meta charset="UTF-8">
		<title>签到明细</title>
		<style type="text/css">
			body{
				padding-bottom:0;
			}
			.mainOuter{
				width:700px; height:480px; padding-left:30px; padding-right:30px;
			}
			.topCon{
				width:100%; height:60px;
				color:rgb(51,51,51);
			}
			.topCon h2{
				height:100%; float:left; line-height:60px; font-size:19px;
			}
			.topCon span{
				width:22px; height:22px; float:right; display:block; position:relative;
				top:50%; margin-top:-11px; cursor:pointer;
				background-image:url('../../images/assistant/guanbi-tanchuang.png');
				background-size:100% 100%;
				background-repeat:no-repeat;
			}
			.topCon img{
				width:100%; height:100%; display:none;
			}
			.topCon span:hover img{
				display:block;
			}

			.formCon{
				margin-top:10px; width:100%; height:34px; margin-bottom:10px; font-size:14px;
			}
			.searchCon{
				width:458px; height:34px; float:left;
				border:1px solid #CCCCCC; border-radius:3px;
			}
			.searchCon input{
				float:left; display:block; border-right:1px solid #CCCCCC; width:83%;
				height:100%; line-height:33px; padding-left:10px; padding-right:10px;
			}
			.searchCon button{
				float:left; display:block; width:17%; height:100%; text-align:center;
				line-height:33px; background-color:#EDEDED;
			}

			.myselect{
				float:right;
				width:150px; height:100%; text-align:center; line-height:31px;
				box-sizing:border-box; border-radius:3px;
				cursor:pointer; background-color:#0496CA;
				position:relative;
			}
			.myselect:hover{
				background-color:#0487b5;
			}
			.myselect>p{
				width:100%; height:100%; float:left; margin-right:-8px; color:white;
			}
			.myselect select{
				position:absolute; width:100%; border-radius:3px;
				top:36px; z-index:1; border:1px solid #0496C9; font-size:16px;
				display:none; text-align:center;
			}
			.myselect select option{
				padding-top:3px; padding-bottom:3px;
			}
			.myselect select option:hover{
				background-color:#dcdcdc;
			}

			.liCon{
				height:275px; overflow-y:auto; padding-bottom:20px;
			}

			.table1{
				width:100%; height:270px; font-size:14px; border:1px solid #cccccc;
			}
			.th{
				width:100%; height:38px; background-color:#EEEEEE; border-bottom:1px solid #cccccc;
			}
			.trCon{
				height:220px; overflow-y:auto; 
			}
			.tr{
				width:100%; height:30px; border-bottom:1px solid #cccccc;
			}
			.tr:hover{
				background-color:#F5F5F5;
			}
			.td{
				height:16px; line-height:16px; text-align:center; float:left;
				position:relative; top:50%; margin-top:-8px;
			}

			.td:nth-child(1){
				width:9%;
			}
			.td:nth-child(2){
				width:19%;
			}
			.td:nth-child(3){
				width:17%;
			}
			.td:nth-child(4){
				width:17%;
			}
			.td:nth-child(5){
				width:38%;
			}
			.td:nth-child(1) span{
				width:16px; height:16px; display:block; border:1px solid #cccccc;
				border-radius:2px; margin:auto; background-color:white; cursor:pointer;
			}
			.td:nth-child(1) img{
				width:100%; height:100%; display:none;
				-moz-user-select: none; 
				-webkit-user-select: none; 
				-ms-user-select: none; 
				-khtml-user-select: none; 
				user-select: none;
			}

			.th .td:nth-child(1){
				
			}
			.th .td:nth-child(2){
				border-right:1px solid #B2B2B2;
			}
			.th .td:nth-child(3){
				border-right:1px solid #B2B2B2;
			}
			.th .td:nth-child(4){
				border-right:1px solid #B2B2B2;
			}
			.th .td:nth-child(5){
				
			}

			.tr .td:nth-child(5) span{
				margin-right:15px; cursor:pointer;
			}

			.td select{
				position:absolute; width:50%; border-radius:3px;
				top:20px; z-index:1; border:1px solid #0496C9; font-size:14px;
				display:none; text-align:center; left:8px;
			}
			.td select option{
				padding-top:3px; padding-bottom:3px;
			}
			.td select option:hover{
				background-color:#dcdcdc;
			}

			.footerBtn{
				width:100%; height:38px; margin-top:35px; 
			}
			.footerBtn button{
				display:block; float:right; width:112px; height:38px; border-radius:3px;
				font-size:16px; text-align:center; line-height:38px; box-sizing:border-box;
			}
			.closeBtn{
				border:1px solid #c3c3c3; background-color:#ffffff;
			}
			.closeBtn:hover{
				background-color:#f2f2f2; border:1px solid #999999;
			}
			.saveBtn{
				background-color:#0496ca; margin-right:20px; color:white;
			}
			.saveBtn:hover{
				background-color:#0487b5;
			}
		</style>	
		
		
	</head>
	<body>
		<div class="mainOuter">
			<div class="topCon">
				<h2>签到明细</h2>
				<span class="closeSpan">
					<img src="../../images/assistant/guanbi-tanchuang-h.png">
				</span>
				
			</div>

			<div class="formCon">
				<div class="searchCon">
					<input type="text" placeholder="搜索关键词进行查询" />
					<button>搜索</button>
				</div>
				<div class="myselect">
					<p>批量调整签到时间</p>
					<select size='6'>
						<option>7:50</option>
						<option>7:50</option>
						<option>7:50</option>
						<option>7:50</option>
						<option>7:50</option>
						<option>7:50</option>
						<option>7:50</option>
						<option>7:50</option>
						
					</select>
				</div>
			</div>

			<div class="table1 mytable">
				<div class="th">
					<div class="td">
						<span class="checkboxall">
							<img src="../../images/assistant/gouxuan-h.png">
						</span>
					</div>
					<div class="td">
						班级
					</div>
					<div class="td">
						姓名
					</div>
					<div class="td">
						签到时间
					</div>
					<div class="td">
						操作
					</div>
				</div>

				<div class="trCon">
					<div class="tr">
						<div class="td">
							<span class="checkbox">
								<img src="../../images/assistant/gouxuan-h.png">
							</span>
						</div>
						<div class="td">
							敏行二班
						</div>
						<div class="td">
							刘钧
						</div>
						<div class="td">
							08:00
						</div>
						<div class="td">
							<span class="edit_time">修改签到时间</span>
							<span class="del_sign">删除签到</span>
							<select size='5'>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
							</select>

						</div>
					</div>
					<div class="tr">
						<div class="td">
							<span class="checkbox">
								<img src="../../images/assistant/gouxuan-h.png">
							</span>
						</div>
						<div class="td">
							敏行二班
						</div>
						<div class="td">
							刘钧
						</div>
						<div class="td">
							08:00
						</div>
						<div class="td">
							<span class="edit_time">修改签到时间</span>
							<span class="del_sign">删除签到</span>
							<select size='5'>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
								<option>7:50</option>
							</select>
						</div>
					</div>

				</div>

			</div>

			<div class="footerBtn">
				<button class="closeBtn">关闭</button>
				<button class="saveBtn">保存</button>
			</div>

		</div>

	</body>
	
	<script type="text/javascript">

		//自定义的select(批量调整时间)
		$('.myselect').click(function(event) {
			if( $(this).find('select').css('display') == 'none' ){
				$(this).find('select').css('display', 'block');
			}else{
				$(this).find('select').css('display', 'none');
			}
			 event.stopPropagation();
		});
		$(document).click(function() {
			$('.myselect select').css('display', 'none');
		});
		
		//自定义的select(修改签到时间)
		$('.edit_time').click(function(event) {
			if( $(this).siblings('select').css('display') == 'none' ){
				$(this).siblings('select').css('display', 'block');
			}else{
				$(this).siblings('select').css('display', 'none');
			}
			 event.stopPropagation();
		});
		$(document).click(function() {
			$('.td select').css('display', 'none');
		});

		//自定义的复选框
		$('.checkbox').click(function() {
			if( $(this).attr('selected') == 'selected' ){//取消选择
				$(this).removeAttr('selected');
				$(this).find('img').css('display', 'none');
				$(this).parents('.tr').removeAttr('style');//取消这一行的颜色
			}else{
				$(this).attr('selected', 'selected');
				$(this).find('img').css('display', 'block');
				$(this).parents('.tr').css('background-color', '#F5F5F5');//加上这一行的颜色
			}

			var hasNot = 0;//如果有未选择的复选框，变量为1
			$(this).parents('.trCon').find('.checkbox').each(function() {
				if( $(this).attr('selected') == 'selected' ){
				}else{
					hasNot = 1;
				}
			});
			var checkboxall = $(this).parents('.mytable').find('.checkboxall');
			if(hasNot == 1 && checkboxall.attr('selected') == 'selected'){
				checkboxall.removeAttr('selected');//取消全选复选框
				checkboxall.find('img').css('display', 'none');
			}else if(hasNot == 0 && !checkboxall.attr('selected')){
				checkboxall.attr('selected', 'selected');//选中全选复选框
				checkboxall.find('img').css('display', 'block');
			}

		});
		$('.checkboxall').click(function() {
			if( $(this).attr('selected') == 'selected' ){//取消选择全选复选框
				$(this).removeAttr('selected');
				$(this).find('img').css('display', 'none');
				$('.checkbox[selected=selected]').click();//把子复选框也取消选择
			}else{
				$(this).attr('selected', 'selected');//选中全选复选框
				$(this).find('img').css('display', 'block');
				$('.checkbox').each(function() {//把子复选框也选中
					if( $(this).attr('selected') == 'selected' ){
					}else{
						$(this).click();
					}
				});

			}
		});

	</script>

</html>
