<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>技能中心管理系统（PC端）</title>
    <script src="../common/js/vue.js"></script>
    <script src="../common/js/jquery-3.1.1.min.js"></script>
    <script src="../common/js/echarts.min.js"></script>
    <script src="../common/js/common.js"></script>
    <script src="config.js"></script>
    <link rel="stylesheet" href="../common/css/animate_text.css">
    <style>
        /*公共*/
        *{padding:0;margin:0}
        ul{list-style-type: none}
        /*布局*/
        body,html{
            width:100%;
            height:100%;
        }
        #container{
            width:100%;
            height:100%;
            background-color: #1E202F;
            display:flex;
            flex-direction: column;
        }
        #content{
            display:flex;
            flex:1 1;
        }
        #title{
            height:calc(70vh * 100 / 990);
            line-height: calc(70vh * 100 / 990);
            background-color:#5287F2 ;
            color:white;
            font-size:calc(40vh*100/990);
            padding-left:calc(180vh*100/990);
        }
        #textcontent{
            width:calc(404vw*100/1764);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background-color: #1E202F;
            padding:calc(18vh*100/990) 0;
        }
        #textcontent>ul{
            background-color: #242841;
        }
        #textcontent>ul>li>ul>li{
            padding:calc(8vh*100/990) 0 calc(8vh*100/990) calc(72vw*100/1764);
            font-size:calc(26vh*100/990);
            color:white;
        }
        #textcontent>ul>li>ul{
            padding:calc(34vh*100/990) 0;
            box-shadow:0 calc(6vh*100/990) 0 #1B1D2C;
        }
        #charts{
            flex:1 1;
            display: flex;
            flex-direction: column;
            padding:calc(18vh*100/990);
        }
        @keyframes a10 {
            0%   {transform: scale(1.0);}
            25%  {transform: scale(0.8);}
            50%  {transform: scale(0.6);}
            75%  {transform: scale(0.5);}
            85%  {transform: scale(0.8);}
            100% {transform: scale(1.0);}
        }
        @keyframes a14 {
            0%   {transform: scale(1.2);}
            25%  {transform: scale(1.3);}
            50%  {transform: scale(1.4);}
            75%  {transform: scale(1.2);}
            85%  {transform: scale(1.0);}
            100% {transform: scale(1.2);}
        }
        @keyframes a18 {
            0%   {transform: scale(1.4);}
            25%  {transform: scale(1.6);}
            50%  {transform: scale(1.8);}
            75%  {transform: scale(1.6);}
            85%  {transform: scale(1.5);}
            100% {transform: scale(1.4);}
        }
        @keyframes a25 {
            0%   {transform: scale(1.8);}
            25%  {transform: scale(2.0);}
            50%  {transform: scale(2.2);}
            75%  {transform: scale(2.5);}
            85%  {transform: scale(2.2);}
            100% {transform: scale(1.8);}
        }
        .rone{
            background-color: #3fe4e2;
            top:calc(90vh*100/990);
            left:calc(435vw*100/1764);
            animation: a14 30s infinite;
        }
        .rtwo{
            background-color: #afa9fa;
            top:calc(97vh*100/990);
            left:calc(550vw*100/1764);
            animation: a10 30s infinite;
        }
        .rthree{
            background-color: #ff4081;
            top:calc(330vh*100/990);
            left:calc(365vw*100/1764);
            animation: a25 30s infinite;
        }
        .rfour{
            background-color: #558bf7;
            top:calc(200vh*100/990);
            left:calc(600vw*100/1764);
            animation: a10 30s infinite;
        }
        .rfive{
            background-color: #f2bd31;
            top:calc(520vh*100/990);
            left:calc(350vw*100/1764);
            animation: a14 30s infinite;
        }
        .rsix{
            background-color: #26b8eb;
            top:calc(410vh*100/990);
            left:calc(600vw*100/1764);
            animation: a18 30s infinite;
        }
        .rseven{
            background-color: #f25747;
            top:calc(584vh*100/990);
            left:calc(228vw*100/1764);
            animation: a10 30s infinite;
        }
        .imgbox div{
            width:calc(76vh*100/990);
            height:calc(76vh*100/990);
            border-radius: 50%;
            position: absolute;
            opacity: 0.8;
        }
        .chartcontent{
            flex:1 1;
            background-color: #242941;
            box-shadow: calc(9vh*100/990) calc(9vh*100/990) calc(9vh*100/990) #181C2C;
        }
        .bluefont{
            color:#4F88ED;
        }
        .yellowfont{
            color:#F8E87E;
        }
        .charttitle{
            height:calc(90vh*100/990);
            font-size:calc(34vh*100/990);
            color:white;
            padding-left:calc(18vh*100/990);
            /*padding-bottom:calc(18vh*100/990);*/
            display: flex;
            align-items: center;
            background-color: #242941;
        }
        .imgbox{
            width:calc(1030vw*100/1764);
            margin:0 auto;
            position:relative;
            background-image: url('../common/images/place.png');
            background-size:100% 100%;
            height:calc(770vh*100/990);
        }
    </style>
</head>
<body>
<div id="container">
    <div id="title">
        <span>技能中心管理系统</span>
    </div>
    <div id="content">
        <div id="textcontent">
            <ul v-for="(value,index) in text">
                <li>
                    <ul>
                        <li v-for="(value1,index1) in text[index].content">
                            <span class="label" style='white-space:pre;'>{{value1.label}}</span>
                            <span class="content" :class="{bluefont:index1==0,yellowfont:index1!=0}">{{value1.text}}</span>
                            <span class="danwei">{{value1.danwei}}</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id="charts">
            <div class="charttitle">
                训练场地热力图
            </div>
            <div class="chartcontent">
                <div class="imgbox">
                    <div class="rone"></div>
                    <div class="rtwo"></div>
                    <div class="rthree"></div>
                    <div class="rfour"></div>
                    <div class="rfive"></div>
                    <div class="rsix"></div>
                    &nbsp;
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var vm=new Vue({
        el:'#container',
        data:{
            //上方的文字列表
            text:[
                {
                    item:0,
                    content:[
                        {label:'当前训练人数：',text:'',danwei:'人'},
                        {label:'峰值训练人数：',text:config.max,danwei:'人'}
                    ]
                },{
                    item:1,
                    content:[
                        {label:'总教室数：',text:6,danwei:'间'},
                        {label:'当前使用：',text:3,danwei:'间'},
                        {label:'教室使用率：',text:50,danwei:'%'}
                    ]
                },{
                    item:2,
                    content:[
                        {label:'传统模型：',text:4,danwei:'个'},
                        {label:'当前使用：',text:2,danwei:'个'},
                        {label:'模型使用率：',text:50,danwei:'%'}
                    ]
                },{
                    item:3,
                    content:[
                        {label:'训练机器人：',text:8,danwei:'个'},
                        {label:'当前使用   ：',text:6,danwei:'个'},
                        {label:'机器人使用率：',text:75,danwei:'%'}
                    ]
                }
            ],
            //热力图的颜色
            color:['red','blue','green','pink','yellow'],
            range:[
                {
                    max:0.8,
                    min:0.6,
                    color:'red',
                    name:'osce'
                },
                {
                    max:0.8,
                    min:0.6,
                    color:'blue',
                    name:'复用'
                },
                {
                    max:1.0,
                    min:0.8,
                    color:'green',
                    name:'智能一体化教室'
                },
                {
                    max:0.8,
                    min:0.6,
                    color:'pink',
                    name:'情境化急救'
                },
                {
                    max:0.8,
                    min:0.6,
                    color:'yellow',
                    name:'在线自主训练'
                }
            ]
        },
        mounted:function(){
            var self=this
            var max=config.max
            var min=config.min
            var interval=config.timeinterval
            var now//当前训练人数
            now=Math.random()*(config.wavemax-config.wavemin)+config.wavemin
            self.text[0].content[0].text=Math.ceil(now)

            //当前，峰值定时器改变数据
            var timer=setInterval(function(){
                now=Math.random()*(config.wavemax-config.wavemin)+config.wavemin
                self.text[0].content[0].text=Math.ceil(now)
            },config.timeinterval*1000)

            //教室，模型，机器人使用情况数据
            var timer9=setInterval(function(){
                for(var i=1;i<self.text.length;i++){
                    self.text[i].content[1].text=self.randomnum(self.text[i].content[0].text)
                    self.text[i].content[2].text=Math.ceil(self.text[i].content[1].text*100/self.text[i].content[0].text)
                }
            },30000)
        },
        methods:{
            randomnum:function(maxnum){//传入最大值，返回值为50%-100%变动
                var percent=Math.random()*0.5+0.5
                return Math.ceil(maxnum*percent)
            }
        }
    })
</script>
</body>
</html>