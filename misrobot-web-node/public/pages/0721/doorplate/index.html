<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>doorplate</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <script src="../common/js/jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
    <script src="../common/js/vue.js" type="text/javascript" charset="utf-8"></script>
    <style>
        * {
            padding:0;
            margin:0;
            font-size:62.5%;
            list-style: none;
        }
        #doorplate {
            height:100vh;
            width:100vw;
            overflow: hidden;
            flex-direction: column;
        }
        .flex {
            display: flex;
        }
        header {
            height:50%;
            background: url('../common/images/bg.png') 0 0 no-repeat;
            background-size: cover;
        }
        section {
            flex:1;
            flex-direction: row;
        }
        footer {
            height:10%;
            width:100%;
            background: #00C58C;
        }
        .pic {
            margin-left: 4.5%;
            align-items: center;
            height:100%;
        }
        .pic span p{
            color: #fff;
            text-align: center;
        }
        .pic span p:first-child {
            font-size: 8rem;
        }
        .pic span p:last-child {
            font-size: 4rem;
        }
        .pic img {
            width:30vh;
            height:30vh;
            border-radius: 5px;
        }
        .pic img:nth-child(even) {
            margin:1.7%;
        }
        .bewrite {
            width:25%;
            height:100%;
            position: relative;
        }
        .bewrite i {
            position: absolute;
            left:0;
            top:0;
            background: #b0b7de;
            color: #fff;
            font-size: 2rem;
            font-style: normal;
            width: 4rem;
            height: 4rem;
            line-height: 4rem;
            text-align: center;
        }
        .bewrite:not(:last-child) a{
            border-right:3px solid #d7d7da;
        }
        .bewrite a {
            display: flex;
            width:100%;
            flex-direction: column;
            margin: 8rem 1rem;
            text-align: center;
        }
        .bewrite p:first-child {
            color: #2e2f40;
            font-size: 3.5rem;
            margin-bottom: 1rem;
        }
        .bewrite p:last-child {
            color: #666;
            font-size: 2.5rem;
            text-align: left;
        }
        #text {
            font-size: 4.4rem;
            line-height: 8rem;
            color: #fff;
        }
        .name {
            margin-left:10vh;
            justify-content: center;
        }
        .name p:nth-child(1){position:relative;}
        .statu{
            width:80px; height:34px; font-size:22px; color:white; display:inline-block;
            background-color:#00C58C; border-radius:2px; text-align:center; line-height:34px;
            position:absolute; top:30px; right:-50px;
        }
        [v-cloak] { display: none }
    </style>
</head>
<body>
    <div id="doorplate" class="flex" v-cloak>
        <header>
            <div class="pic flex">
                <img v-for="(item,index) in pic" :src="item">
                <span class="name">
                    <p>{{roomnum}}<span class="statu" v-if="from==2 || from==3">上课中</span></p>
                    <p>{{roomname}}</p>
            </span>
            </div>
        </header>
        <section class="flex">
            <span class="bewrite flex" v-for="(item,index) in items">
                <i>{{index | convert}}</i>
                <a>
                    <p>{{item.title}}</p>
                    <p>{{item.bewrite}}</p>
                </a>
            </span>
        </section>
        <footer>
            <marquee behavior="scroll" direction="left" id="text">
                <template v-if="from==1">
                    已有{{counts}}人参与在线训练体验
                </template>
                <template v-if="from==2">
                    已有{{counts}}人参与一体化课堂体验
                    <!--课程名称：急救综合(上课中)&nbsp;&nbsp;&nbsp;老师：季羡林&nbsp;&nbsp;&nbsp;学生：2017级临床1班-->
                </template>
                <template v-if="from==3">
                    已有{{counts}}人参与开放训练体验
                </template>
            </marquee>
        </footer>
    </div>
</body>
<script>
    var vm=new Vue({
        el:'#doorplate',
        data:{
            roomnum:'',
            roomname:'',
            roomstatu:'',
            pic:[],
            items:[],
            counts:'',
            from:1,
            classid:'',
            reportid:''
        },
        filters:{
            convert: function (value) {
                return value+1
            }
        },
        mounted:function(){
            this.init();
        },
        methods:{
            init:function(){
                var _this = this;
                var url = window.location.href.split("=")[1];
                if (url==1){
                    _this.roomnum='【201】';
                    _this.roomname='在线训练室';
                    _this.roomstatu='上课中';
                    _this.pic=[
                        '../common/images/zxxx1.png',
                        '../common/images/zxxx2.png',
                        '../common/images/zxxx3.png'
                    ];
                    _this.items=[
                        {
                            title:'自主学习',
                            bewrite:'实现人人可练、时时可练、处处可练。'
                        },{
                            title:'学习报告',
                            bewrite:'及时生成多维度可量化的能力模型报告。'
                        },{
                            title:'指导学习',
                            bewrite:'学生及时了解知识掌握程度，进行侧重训练。'
                        },{
                            title:'精准化教学',
                            bewrite:'老师提前了解学生掌握情况，让教学更加精准化。'
                        }
                    ];
//                    _this.classid='';
                    count(1);
                    setInterval(function(){
                        count(1);
                    },10000)
                }else if(url==2){
                    $('footer').css('background','#00C58C');
                    _this.from=2;
                    _this.roomnum='【202】';
                    _this.roomname='一体化课堂';
                    _this.roomstatu='上课中';
                    _this.pic=[
                        '../common/images/ythjs1.png',
                        '../common/images/ythjs2.png',
                        '../common/images/ythjs3.png'
                    ];
                    _this.items=[
                        {
                            title:'点名更智能',
                            bewrite:'多种自动签到方式，无线、二维码签到，人脸识别，上课再也不用费时点名。'
                        },{
                            title:'互动更益趣',
                            bewrite:'支持多种教学模式，情景化教学，师生互动有余，效率提升，效果提升。'
                        },{
                            title:'示教看得清',
                            bewrite:'医学个性化示教，现场模拟操作，知行合一。'
                        },{
                            title:'效果有反馈',
                            bewrite:'录音录屏让资源留存，上课全过程数据挖掘，形成性评价可依。'
                        }
                    ];
                    count(2);
                    setInterval(function(){
                        count(2);
                    },10000)
                }else if(url==3){
                    $('footer').css('background','#00C58C');
                    _this.from=3;
                    _this.roomnum='【203】';
                    _this.roomname='开放训练室';
                    _this.roomstatu='上课中';
                    _this.pic=[
                        '../common/images/kfxl1.png',
                        '../common/images/kfxl2.png',
                        '../common/images/kfxl3.png'
                    ];
                    _this.items=[
                        {
                            title:'边看边练',
                            bewrite:'学生可以通过视频演示操作指导训练。'
                        },{
                            title:'可考试可训练',
                            bewrite:'需要考试的时候可组织考试，不考试可用于训练，资源不浪费。'
                        },{
                            title:'同伴互助',
                            bewrite:'学生训练后可相互评分，提高训练效率。'
                        },{
                            title:'智能训练',
                            bewrite:'采用真实器械与虚拟器械同步，标准临床操作程序指导，全程语音纠错。'
                        }
                    ];
//                    _this.reportid='';
                    count(4);
                    setInterval(function(){
                        count(4);
                    },10000)
                }
                function count(param){
                    var _json = {
                        "1": {
                            command: "report/menpaidetail",
                            querytype: param
//                            reportid: _this.reportid,
//                            classid:_this.classid
                        }
                    };
                    var json = JSON.stringify(_json);
                    $.ajax({
                        url: "/report/menpaidetail",
                        type: "POST",
                        data: json,
                        success: function (data) {
                            data = data["1"];
                            if (data.errcode == 0) {
                                _this.counts=data.alltrainstdcount;
                            }
                        }
                    })
                }
            }
        }
    })
</script>
</html>