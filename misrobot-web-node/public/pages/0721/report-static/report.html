<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
		<meta name="renderer" content="webkit">
		<link rel="stylesheet" href="../common/css/common1.css" type="text/css" />
		<link rel="stylesheet" href="../common/css/vueComponent.css">
		<link rel="stylesheet" type="text/css" href="../common/bootstrap-3.3.5-dist/css/bootstrap.min.css" class="bootstrap" />
		<link rel="stylesheet" type="text/css" href="../common/css/web_common.css" class="commonCss"/>
		<script src="../common/js/jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
		<script src="../common/bootstrap-3.3.5-dist/js/bootstrap.min.js" type="text/javascript" charset="utf-8" class="bootstrap" ></script>
		<script src="../common/js/layer/layer.js" type="text/javascript" charset="utf-8"></script>
		<script src="../common/js/base.js" type="text/javascript" charset="utf-8"></script>
		<script src="../common/js/common1.js" type="text/javascript" charset="utf-8"></script>
		<script src="../common/js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="../common/js/echarts.min.js"></script>
		<meta charset="UTF-8">
		<title>课前-班级-在线虚拟训练汇总报告</title>
		<style>
			#header{
	            width:100%;
	            position:fixed;
	            top:0;
	            left:0;
	            z-index:99
	        }

	        .content_box{
	        	background-color:white; width:100%; padding-top:15px; padding-bottom:20px;
	        	padding-left:30px; padding-right:30px;
	        }
	        .content_box p{
	        	font-size:16px; line-height:34px;
	        }
	        .content_box span{
	        	color:#000;
	        }

	        .tab1Outer{
	        	width:100%; height:20px;
	        }
	        .tab1Con{
	        	width:75%; height:100%; margin:auto;
	        }
	        .tab1Inner{
	        	width:50%; height:100%; float:left;
	        }
	        .tab1Inner h3{
	        	width:80px; height:100%;
	        	text-align:center; margin:auto; font-size:16px;
	        }
	        .tab1On{
	        	border-bottom:2px solid #2088C2; color:#2088C2;
	        }

	        .reportCon{
	        	background-color:white; padding-top:15px; padding-bottom:35px;
	        	padding-left:18px; padding-right:18px;
	        }
	        .navigation{
	        	width:100%; padding-top:5px; padding-bottom:5px; margin-bottom:5px;
	        }
	        .navigation li{
	        	display:block; font-size:16px;
	        	height:26px; line-height:26px;
	        	border-radius:3px; padding-left:8px; padding-right:8px;
	        	float:left;
	        }
	        .li-active{
	        	background-color:#3499DB; color:white;
	        }

	        .finish_people{
	        	border-bottom:1px solid #EDEDED;
	        	padding-top:10px; padding-bottom:10px;
	        }
	        .subTit{
	        	width:100%; line-height:24px; color:#3499DB; font-size:16px;
	        }
	        #main7{
	        	width:100%; height:230px;
	        }
	        .list_name{
	        	width:100%;
	        }
	        .list_name h2{
	        	font-size:14px; margin-bottom:10px;
	        }
	        .list_name p{
	        	font-size:14px; color:#000;
	        }

	        #main6{
	        	width:100%; height:230px;
	        }
	        .fraction{
	        	width:100%;
	        }
	        .fraction p{
	        	color:#000; line-height:22px;
	        }

	        .wrongOuter{
	        	width:100%; margin-top:10px;
	        }
	        #main2{
	        	width:100%; height:270px;
	        }
	        #main3{
	        	width:100%; height:270px;
	        }
	        #main4{
	        	width:100%; height:230px;
	        }
	        
	        .tablebox{
	        	width: 100%; margin-top:10px;
	        	border-left: 1px solid #EDEDED; border-right: 1px solid #EDEDED;
	        }
	        table{
	        	border-top:1pt solid #EDEDED; font-size:16px;
	        }

	        thead{
	        	color:#3499DB;
	        }
	        td{
	        	padding:5px 10px; text-align:center;border-bottom:1pt solid #EDEDED;
	        	border-right:1px solid #EDEDED;
	        }
	        td:nth-child(1){
	        	width:28%;
	        }
	        td:nth-child(2){
	        	width:50%;
	        }
	        td:nth-child(3){
	        	width:22%;
	        }
			.pad {
				display: none;
			}
			@media screen and (min-width: 480px) {
				.pad {
					display: block;
				}
				.finish_people{
					border-bottom:1px solid #EDEDED;
					padding-top:10px; padding-bottom:10px;
					width:50%;float:left;
					height:100%;
				}
				.chart_box {
					height:360px;
				}
			}
			._title {
				width: 100%;
				height: 46px;
				line-height: 46px;
				text-align: center;
				font-size: 22px;
			}
		</style>	
	</head>
	<body>
		<div class="_title pad">
			课前-班级-在线虚拟训练汇总报告
		</div>
		<div class="content_box">
			<p>课程名称：<span id="course_name">无</span></p>
			<p>上课时间：<span id="attendClassTime">无</span></p>
			<p>班级：<span id="classnameID">无</span></p>
		</div>

		<div class="tab1Outer">
			<!--<div class="tab1Con">-->
				<!--<div class="tab1Inner">-->
					<!--<h3 class="tab1On">课前报告</h3>-->
				<!--</div>-->
				<!---->
			<!--</div>-->
		</div>

		<div class="prereport reportCon">
			<div class="navigation clearfix" id="menu">
				<li>无</li>
				<li>无</li>
			</div>
			<div class="chart_box">
				<div class="finish_people">
					<h3 class="subTit">完成情况统计</h3>
					<div id = 'main7'>

					</div>
					<div class="list_name">
						<h2>未完成训练名单：</h2>
						<p id="undone_student">无</p>
					</div>

				</div>

				<div class="finish_people">
					<h3 class="subTit">成绩统计</h3>
					<div id = 'main6'>

					</div>
					<div class="fraction">
						<p>平均分：<span id='average'></span></p>
						<p>最高分：<span id='the_tallest'>无</span></p>
						<p>最低分：<span id='minimum'>无</span></p>
					</div>

				</div>
			</div>
			<div class="wrongOuter">
				<h3 class="subTit">致命错误</h3>
				<div id="main2">

				</div>
			</div>
			<div class="wrongOuter">
				<h3 class="subTit">严重错误</h3>
				<div id="main3">
					
				</div>
			</div>
			<div class="wrongOuter">
				<h3 class="subTit">Top10错误率</h3>
				<div id="main4">
					
				</div>
			</div>
			<div class="wrongOuter">
				<h3 class="subTit">操作错误详情</h3>

				<div class="tablebox">
	                <table id="tbitem" width="100%" border="0" cellspacing="0" cellpadding="0" align='center'>
	                    <thead>
		                    <tr>
		                        <td>步骤</td>
		                        <td>错误点</td>
		                        <td>人数</td>
		                    </tr>
	                    </thead>
	                    <tbody id="infoTd">
	                    </tbody>
	                </table>
	            </div>

			</div>

		</div>
		<script type="text/javascript" src="../common/js/report.js"></script>
		<script type="text/javascript">

			$(function() {
				var base ={
					"errcode": "0",
					"classinfo": {
						"trainitemname": [
							"胸腔穿刺术"
						],
						"studentcount": "52",
						"coursename": "外科学",
						"classname": "卓越医师教学改革班",
						"departmentname": null,
						"majorname": null,
						"trainiteminfo": [
							{
								"trainitemname": "胸腔穿刺术",
								"traintype": "0"
							}
						],
						"coursebegintime": "2017-02-27 14:30:00",
						"courseendtime": "2017-02-27 16:00:00"
					},
					"typicalerror": [
						{
							"errortype": "一般错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "漏选1~3种物品",
							"traintype": "0",
							"opstepcontent": "用物准备",
							"errorcount": "2"
						},
						{
							"errortype": "一般错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "抽吸量过多（>1.5）",
							"traintype": "0",
							"opstepcontent": "局麻",
							"errorcount": "2"
						},
						{
							"errortype": "一般错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "穿刺针进针方向在60~80°范围内",
							"traintype": "0",
							"opstepcontent": "穿刺",
							"errorcount": "2"
						},
						{
							"errortype": "一般错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "漏选3个以上物品",
							"traintype": "0",
							"opstepcontent": "用物准备",
							"errorcount": "1"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "消毒留白",
							"traintype": "0",
							"opstepcontent": "穿刺",
							"errorcount": "15"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "穿刺定位错误",
							"traintype": "0",
							"opstepcontent": "穿刺",
							"errorcount": "12"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "胸部叩诊不正确",
							"traintype": "0",
							"opstepcontent": "穿刺",
							"errorcount": "5"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "局麻进针不稳定",
							"traintype": "0",
							"opstepcontent": "穿刺",
							"errorcount": "3"
						}
					],
					"errdesc": "success.",
					"errordetails": [
						{
							"errortype": "一般错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "每次消毒应该无留白",
							"traintype": "0",
							"opstepcontent": "消毒留白",
							"errorcount": "15"
						},
						{
							"errortype": "一般错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "穿刺定位错误",
							"traintype": "0",
							"opstepcontent": "穿刺定位",
							"errorcount": "12"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "穿刺抽液量不准确",
							"traintype": "0",
							"opstepcontent": "穿刺",
							"errorcount": "6"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "用胶带将孔巾固定牢固，过程中有移动",
							"traintype": "0",
							"opstepcontent": "孔巾移位",
							"errorcount": "5"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "以穿刺点为中心，半径小于15cm",
							"traintype": "0",
							"opstepcontent": "第一次消毒",
							"errorcount": "5"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "胸部叩诊不正确",
							"traintype": "0",
							"opstepcontent": "穿刺定位",
							"errorcount": "5"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "以穿刺点为中心，半径小于10cm",
							"traintype": "0",
							"opstepcontent": "第二次消毒",
							"errorcount": "4"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "局麻进针时，穿刺针应不平稳",
							"traintype": "0",
							"opstepcontent": "局麻",
							"errorcount": "3"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "以穿刺点为中心，半径小于8cm",
							"traintype": "0",
							"opstepcontent": "第三次消毒",
							"errorcount": "3"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "未垂直进针",
							"traintype": "0",
							"opstepcontent": "局麻",
							"errorcount": "2"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "消毒过程中术区污染",
							"traintype": "0",
							"opstepcontent": "消毒",
							"errorcount": "2"
						},
						{
							"errortype": "严重错误",
							"trainitemname": "胸腔穿刺术",
							"errordetail": "覆盖纱布，胶布不固定",
							"traintype": "0",
							"opstepcontent": "术后处理",
							"errorcount": "1"
						}
					],
					"nottrainstudent": [
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"name": "王万伦"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"name": "曾何宛"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"name": "敖颐"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "1",
							"name": "沈宽益"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"name": "孙永飞"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"name": "王玉佳"
						},{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"name": "肖龙义"
						}
					],
					"errorratio": [
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "消毒留白",
							"errorratio": "0.3260",
							"errorcount": "15"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "穿刺定位",
							"errorratio": "0.2608",
							"errorcount": "12"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "穿刺抽液量不准确",
							"errorratio": "0.1304",
							"errorcount": "6"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "孔巾移位",
							"errorratio": "0.1086",
							"errorcount": "5"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "局麻",
							"errorratio": "0.0625",
							"errorcount": "3"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "垂直进针",
							"errorratio": "0.0434",
							"errorcount": "2"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "消毒",
							"errorratio": "0.0434",
							"errorcount": "2"
						},
						{
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"opstep": "术后处理",
							"errorratio": "0.0217",
							"errorcount": "1"
						}
					],
					"finishinfo": [
						{
							"finishtime": "1",
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"scoresheetcode": "101-0-000000-001",
							"count": "1"
						},
						{
							"finishtime": "2",
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"scoresheetcode": "101-0-000000-001",
							"count": "1"
						},
						{
							"finishtime": "3",
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"scoresheetcode": "101-0-000000-001",
							"count": "1"
						},
						{
							"finishtime": "4",
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"scoresheetcode": "101-0-000000-001",
							"count": "1"
						},
						{
							"finishtime": "12",
							"trainitemname": "胸腔穿刺术",
							"traintype": "2",
							"scoresheetcode": "101-2-000000-001",
							"count": "1"
						}
					],
					"command": "report/queryprereport",
					"classscore": [
						{
							"between6080": "15",
							"trainitemname": "胸腔穿刺术",
							"traintype": "0",
							"highestscore": "92.500",
							"beyond80": "16",
							"averagescore": "65.9200000",
							"below60": "15",
							"lowestscore": "29.50"
						}
					]
				};
				$('#menu li').click(function() {
					$('#menu li').removeClass('li-active');
					$(this).addClass('li-active');
				});

				$('.tab1Inner h3').eq(1).click(function() {
		        	window.location.href = 'report_after_class.html?reportid='+GetQueryString('reportid');
		        });

				set_default_report();//页面加载显示报告的默认值

				show_report(base);//显示报告的所有内容

			});
		</script>
	</body>
</html>