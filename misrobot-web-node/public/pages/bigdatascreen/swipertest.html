<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>轮播测试</title>
    <script src="../../js/jquery-3.1.1.min.js"></script>
    <script src="../../js/vue.js"></script>
    <script src="../../js/echarts.min.js"></script>
    <script src="../../js/bigdatascreen/swiper.min.js"></script>
    <script src="../../js/jquery.cookie.js"></script>
    <script src="../../js/bigdatascreen/swiper.animate1.0.2.min.js"></script>
    <link rel="stylesheet" href="../../css/bigdatascreen/xstuandteacher.css">
    <link rel="stylesheet" href="../../css/bigdatascreen/swiper.min.css">
    <link rel="stylesheet" href="../../css/bigdatascreen/animate.min.css">
    <style>
        @keyframes myrotate
        {
            from {transform: rotatex(0deg);}
            to {transform: rotatex(45deg);}
        }
        img{
            width:400px;
            height:400px;
            animation: myrotate 3s;
            transform: rotatex(45deg);
        }
        .rot{
            perspective: 2000px;
        }
        #container1>div{
            width:800px;
            margin:0 auto;
        }
    </style>
</head>
<body>
<div id="container1" v-cloak>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide" >
                <p class="ani rot" swiper-animate-effect="fadeInUp" swiper-animate-duration="2s" swiper-animate-delay="0.5s">
                    <img src="../../images/bigdatascreen/2f.png" alt="">
                </p>
            </div>
        </div>
    </div>
</div>
<script>
    var vm=new Vue({
        el:'#container1',
        data:{
            imgurl:[
                "../../images/bigdatascreen/2f.png",
                "../../images/bigdatascreen/3f.png",
                "../../images/bigdatascreen/4f.png",
                "../../images/bigdatascreen/5f.png",
                "../../images/bigdatascreen/6f.png",
            ]
        },
        mounted:function(){
            this.initanimate()
            var self=this
            var i=1
            var timer3=setInterval(function(){
                var cloneelem=$('.ani:eq(0)').clone()
                if(i>4){
                    i=0
                }
                $(cloneelem).children('img').attr('src',self.imgurl[i])
                console.log(self.imgurl[i])
                $('.ani:eq(0)').remove()
                $(cloneelem).appendTo('.swiper-slide')
                i++
            },5000)
        },
        methods:{
            initanimate:function(){
                var mySwiper = new Swiper ('.swiper-container', {
                    onInit: function(swiper){ //Swiper2.x的初始化是onFirstInit
                        swiperAnimateCache(swiper); //隐藏动画元素
                        swiperAnimate(swiper); //初始化完成开始动画
                    },
                    onSlideChangeEnd: function(swiper){
                        swiperAnimate(swiper); //每个slide切换结束时也运行当前slide动画
                    }
                })
            }
        }
    })

</script>
</body>
</html>