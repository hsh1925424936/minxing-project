<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="../../js/iteach/layout.js" ></script>
		<meta charset="UTF-8">
		<title>teacherStart</title>
		<style type="text/css">

			.outer{
				background-color:#0495CA; color:#8ED0E7; height:100%;
				padding-bottom:80px; position: relative;
			}
			.point { position: absolute; width: 100%; text-align: center; height: 50px; line-height: 50px; font-size: 50px; color: #fff; z-index: 88; top: 220px;}
			
			.topOuter img{
				display:block; width:70px; height:40px; margin:0 auto 0; padding-top: 16px;
			}
			.motto{
				font-size:16px; text-align:center; line-height:20px; 
				height:20px; width:100%; margin-top:40px;
			}
			.chartOuter{
				width:100%; height:194px; 
			}
			.text{
				width:100%; height:20px; font-size:16px; margin-top:26px;
				text-align:center;
			}
			.chartLogo{
				display:block; width:80px; height:80px;
				margin:0 auto; margin-top:30px;
			}
			.chartLogo img {
				display: block; width: 100%; height: 100%;
			}
			.text2{
				width:100%; height:16px; font-size:12px; margin-top:10px;
				text-align:center;
			}
		</style>
		<script src="../../js/echarts-all.js"></script>
		<script src="../../js/iteach/web_chart.js"></script>
		<script>
			window.onload = function () {
				'use strict';
				webcommon();		
				var oDiv = $('.chartOuter')[0];
				writemeter(oDiv);
				Api.R({
					url: "/teachingindex/querymyindex",

					isShade:1, //是否显示加载圆圈
					json:{
						"1":{
							command: 'teachingindex/querymyindex', //接口地址
							accountname: getCookie('gy_un'),  //用户名
							sessionid: getCookie('gy_t')
						}
					},
					fn:function (json) {
						json = json[1];
						oDiv.option.series[0].data[0].value = parseInt(isnull(json.teachingindex));
					    oDiv.myChart.setOption(oDiv.option, true);
					    var timer = null;
					    var i = 0;
					    if( parseInt(isnull(json.teachingindex)) < 1 ){
					    	$('.point').html( parseInt(isnull(json.teachingindex)) );
					    	return false;
					    }
					    timer = setInterval(function () {
					    	i++;
					    	$('.point').html(i);
					    	if (i>=parseInt(isnull(json.teachingindex))) {
					    		clearInterval(timer);
					    	}
					    },400/parseInt(isnull(json.teachingindex)));
					}
				});
			}
		</script>
	</head>
	<body>
		
		<div class="box clearfix">
			<div class="outer clearfix">
				<div class="point">0</div>
				<div class="topOuter">
					<div class="topOuter">
						<img src="../../images/iteach/iteach.png" />
					</div>
				</div>
				
				<div class="motto">
					教育不是住满一桶水，而是点燃一把火
				</div>

				<div class="chartOuter">
					
				</div>

				<div class="text">
					我的教学指数
				</div>
				<a href="grow-trend.html" class="chartLogo">
					<img src="../../images/iteach/chartLogo.png" />
				</a>
					
				<div class="text2">
					成长趋势
				</div>

				<div class="bottomOuter">
					<a href="schedule.html" class="bottomItem clearfix">
						<img src="../../images/iteach/kebiao.png"/>
						<span>课表</span>
					</a>

					<a href="report.html" class="bottomItem clearfix">
						<img src="../../images/iteach/baogao.png"/>
						<span>报告</span>
					</a>

					<a href="message-list.html" class="bottomItem clearfix">
						<img src="../../images/iteach/message.png"/>
						<span>通知</span>
					</a>

					<a href="person-center.html" class="bottomItem clearfix">
						<img src="../../images/iteach/head2.png"/>
						<span>我</span>
					</a>
				</div>

			</div>

		</div>

	</body>
	
</html>
