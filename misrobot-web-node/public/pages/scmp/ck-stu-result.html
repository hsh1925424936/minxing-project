<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>出科考试-学生成绩查询</title>
		<link rel="stylesheet" href="../../bootstrap-3.3.5-dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../assets/bootstrap/bootstrap-datepicker/css/bootstrap-datepicker.css" />
		<link rel="stylesheet" href="../../css/scmp/ck-stu-result.css" />
		<style>
			[v-cloak] {
				display:none
			}
		</style>
	</head>

	<body>

		<section id="ck-stu-result" v-cloak>
			<p>学生成绩查询</p>
			<!--*********************************按钮  搜索部分************************************-->
			<div class="center search-wrap">
				<form class="form-inline" style="float:none;">
					<div class="form-group">
						<label>考生姓名：</label>
						<input type="text" class="form-control" v-model="sname" placeholder="考生姓名">
					</div>
					<div class="form-group">
						<label>学号：</label>
						<input type="text" class="form-control" v-model="sno" placeholder="学号">
					</div>
					<div class="form-group">
						<label>技能项：</label>
						<select class="form-control" v-model="learnid">
							<option value="-1">全部</option>
							<option v-for="l in learns" :value="l.learnid">{{l.name}}</option>
						</select>
					</div>
					<div class="form-group">
						<label>考试状态：</label>
						<select class="form-control" v-model="examstatus">
							<option value="-1">全部</option>
							<option value="4"> 已考试 </option>
							<option value="5"> 缺考 </option>
						</select>
					</div>
					<br/>
					<div class="form-group">
						<label>考试时间：</label>
						<div class="input-group input-medium date-picker input-daterange" v-datepicker data-date-format="yyyy-mm-dd">
							<input class="form-control" id="form-starttime" style="font-size: 13px;width:110px;" type="text">
							<span class="input-group-addon">到</span>
							<input class="form-control" id="form-endtime" style="font-size: 13px;width:110px;" type="text">
						</div>
					</div>
					<div class="form-group">
						<button type="button"
								data-loading-text="Loading..."
								class="btn btn-primary"
								@click="search()">
							搜索</button>
						<button type="button"
								class="btn btn-default"
								@click="exportExcel()">
							导出</button>
					</div>
				</form>
			</div>
			<!--************************************************表格   学生信息**************************************-->
			<div class="table-responsive">
				<table class="table table-bordered table-striped">
					<tr>
						<th>序号</th>
						<th>姓名</th>
						<th>学号</th>
						<th>技能项</th>
						<th>考试时间</th>
						<th>考官</th>
						<th>考试状态</th>
						<th>成绩</th>
						<th>考试用时</th>
						<th>操作</th>
					</tr>
					<tr v-for="(it, index) in list">
						<td>{{index + 1}}</td>
						<td>{{it.name}}</td>
						<td>{{it.code}}</td>
						<td>{{it.learnname}}</td>
						<td>{{it.examtime}}</td>
						<td>{{it.examiner}}</td>
						<td>{{it.status | ustatus}}</td>
						<td>{{it.score}}</td>
						<td>{{it.usetime}}</td>
						<td><a href="javascript:void(0);" @click="showDetail(it)"> 查看 </a></td>
					</tr>

				</table>
			</div>

			<div id="doorUserFooter" style="padding:20px;">
				<div class="pageInfo" style="float:left;">
					<div class="f12 left">
						<span>每页显示</span>
						<select v-model="pageSize">
							<option value="10">10</option>
							<option value="25">25</option>
							<option value="50">50</option>
						</select> 条&nbsp;&nbsp;&nbsp;共 <span>{{ total }}</span> 条
					</div>
				</div>
				<div class="pageNumBox" style="float:right;">
					<div class="btn-group">
						<button class="btn btn-default btn-sm"
								:class="{ 'disabled': page === 1 }" @click="changePage(1)">首页</button>
						<div class="btn-group">
							<button class="btn btn-default btn-sm"
									:class="{ 'active': value === page }"
									v-for="value in pageList"
									@click="changePage(value)">{{ value }}
							</button>
						</div>
						<button class="btn btn-default btn-sm"
								:class="{ 'disabled': page === totalPage }" @click="changePage(totalPage)">尾页</button>
					</div>
				</div>
			</div>

			<div class="modal user-detail" v-show="showUserInfo" style="display:none;">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" @click="showUserInfo = false;">&times;</button>
							<h4 class="modal-title" id="myModalLabel">用户考试记录</h4>
						</div>
						<div class="modal-body">

							<form class="form-horizontal">
								<div class="form-group">
									<label class="col-sm-3 control-label">技能项</label>
									<div class="col-sm-3">
										<p class="form-control-static">{{detailInfo.skillname}}</p>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">学生名</label>
										<div class="col-sm-3">
											<p class="form-control-static">{{detailInfo.studentname}}</p>
										</div>
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-3 control-label">学号</label>
									<div class="col-sm-3">
										<p class="form-control-static">{{detailInfo.studentno}}</p>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">班级</label>
										<div class="col-sm-3">
											<p class="form-control-static">{{detailInfo.studentclass}}</p>
										</div>
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-3 control-label">分数</label>
									<div class="col-sm-3">
										<p class="form-control-static">{{detailInfo.getscore}}</p>
									</div>
								</div>

								<div class="form-group">
									<div class="col-sm-12">
										<table class="table table-striped">
											<tr>
												<th>考察点</th>
												<th>不足</th>
											</tr>
											<tr v-for="it in detailInfo.itempoints">
												<td width="30%">{{it.point}}</td>
												<td>{{it.deficiency}}</td>
											</tr>
										</table>
									</div>
								</div>

							</form>
						</div>
						<div class="modal-footer">
							<!--<button type="button" class="btn btn-primary">保存</button>-->
							<button type="button" class="btn btn-default" @click="showUserInfo = false;">关闭</button>
						</div>
					</div><!-- /.modal-content -->
				</div><!-- /.modal -->
			</div>
		</section>

	</body>
	<script src="../../js/jquery-3.1.1.min.js"></script>
	<script src="../../js/jquery.cookie.js"></script>
	<script src="../../bootstrap-3.3.5-dist/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../assets/bootstrap/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
	<script src="../../assets/bootstrap/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js"></script>
	<script src="../../js/vue.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../js/scmp/ck-stu-result.js" type="text/javascript" charset="utf-8"></script>

</html>