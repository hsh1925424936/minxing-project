<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>设置开放时间</title>
    <link rel="stylesheet" href="../../css/scmp/staff.css" type="text/css">
    <script type="text/javascript">
        window.onload = function (){
            var oWin=document.getElementById("win");
            var oBtn=document.getElementById("btn");
            var oClose=document.getElementById("close");
            var oH2=oWin.getElementsByTagName("h2")[0];
            var bDrag=false;
            var disX=disY=0;
            oBtn.onclick=function(){
                oWin.style.display="block"
            };
            oClose.onclick=function(){
                oWin.style.display="none";
            };
            oClose.onmousedown=function (event){
                (event || window.event).cancelBubble=true;
            };
            oH2.onmousedown=function (event){
                var event=event || window.event;
                bDrag = true;
                disX = event.clientX - oWin.offsetLeft;
                disY = event.clientY - oWin.offsetTop;
                this.setCapture && this.setCapture();
                return false
            };
            document.onmousemove = function (event){
                if (!bDrag) return;
                var event = event || window.event;
                var iL = event.clientX - disX;
                var iT = event.clientY - disY;
                var maxL = document.documentElement.clientWidth - oWin.offsetWidth;
                var maxT = document.documentElement.clientHeight - oWin.offsetHeight;
                iL = iL < 0 ? 0 : iL;
                iL = iL > maxL ? maxL : iL;
                iT = iT < 0 ? 0 : iT;
                iT = iT > maxT ? maxT : iT;

                oWin.style.marginTop = oWin.style.marginLeft = 0;
                oWin.style.left = iL + "px";
                oWin.style.top = iT + "px";
                return false
            };
            document.onmouseup=window.onblur=oH2.onlosecapture=function (){
                bDrag = false;
                oH2.releaseCapture && oH2.releaseCapture();
            };
        };
        function cancel(){
            var con = document.getElementById("win");
            con.style.display = "none";
        }
    </script>
</head>
<body>
    <div class="contentbox">
        <!--弹窗-新增开放时段-->
        <div id="win">
            <h2>新增开放时段<span id="close">×</span></h2>
            <div class="infoFrm">
                <div class="contentbox">
                    <span style="float:left;">开放时段：</span>
                    <div class="addBox">
                        <div class="addTime"><input type="text" class="iptTime"> 至 <input type="text" class="iptTime"></div>
                        <input type="button" class="addBtn" value="+">
                        <div class="addTime"><input type="text" class="iptTime"> 至 <input type="text" class="iptTime"></div>
                        <input type="button" class="addBtn" value="-">
                        <div class="addTime"><input type="text" class="iptTime"> 至 <input type="text" class="iptTime"></div>
                        <input type="button" class="addBtn" value="-">
                    </div>
                </div>
                <div class="contentbox">
                    <span style="float:left;">生 效 期：</span>
                    <div class="addTime"><input type="text" class="iptTime"> 至 <input type="text" class="iptTime"></div>
                </div>
                <div class="contentbox">
                    <span style="float:left;">开 放 日：</span>
                    <div class="addTime"><input type="checkbox"> 星期一 <input type="checkbox"> 星期二 <input type="checkbox"> 星期三 <input type="checkbox"> 星期四
                        <input type="checkbox"> 星期五 <input type="checkbox"> 星期六 <input type="checkbox"> 星期日
                    </div>
                </div>
                <div class="contentbox">
                    <span style="float:left;">排 除 日：</span>
                    <div class="addTime"><input type="text" class="iptTime" placeholder="选择日期"> 至 <input type="text" class="iptTime" placeholder="选择日期"></div>
                    <input type="button" class="multipurposeBtn" value="增加">
                    <input type="button" class="multipurposeBtn" value="增加法定假日">
                    <div style="width: 89%; float: right; border: 1px solid #F1F5F8">
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                    </div>
                    <div class="contentbox">
                        <span style="float:left;">增 加 日：</span>
                        <div class="addTime"><input type="text" class="iptTime" placeholder="选择日期"> 至 <input type="text" class="iptTime" placeholder="选择日期"></div>
                        <input type="button" class="multipurposeBtn" value="增加">
                    </div>
                    <div style="width: 89%; float: right; border: 1px solid #F1F5F8">
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                        <div class="addTimeBox">
                            <span>2017-01-07至2017-01-08</span><input type="button" class="delTime" value="x">
                        </div>
                    </div>

                </div>

                <div class="bouncedInfo">
                    <input type="button" class="cancelBtn" value="取消" onclick="cancel()">
                    <input type="button" class="operateBtn" value="保存" onclick="cancel()">
                </div>
            </div>
        </div>
        <input type="button" class="newBtn" id="btn" value="新增开放时段" />
        <!--表格信息-->
        <div class="tab margTop">
            <table width="98%" cellpadding="0" cellspacing="0">
                <tr>
                    <td>开放日期</td>
                    <td>开放时间段</td>
                    <td>有效期</td>
                    <td>操作</td>
                </tr>
                <tr>
                    <td>星期一，星期二，星期三，星期四，星期五</td>
                    <td>8:00-12:00  |   14:00-18:00  |  19:00-22:00</td>
                    <td>2017-1-4至2017-12-30</td>
                    <td><a href="#">修改</a> <a href="#">删除</a></td>
                </tr>
            </table>
        </div>
    </div>
</body>
</html>