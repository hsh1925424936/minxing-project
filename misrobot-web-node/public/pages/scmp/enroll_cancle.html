<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>培训报名审核</title>
		<link rel="stylesheet" href="../../bootstrap-3.3.5-dist/css/bootstrap.min.css" />
		<script src="../../js/jquery-1.11.3.js"></script>
		<script src="../../layer/xie/layer1.js"></script>
		<script src="../../js/scmp/common.js"></script>
		<script src="../../js/vue.js"></script>
		<link rel="stylesheet" href="../../css/assistant/style.css">
		<link rel="stylesheet" href="../../css/scmp/scmpcommon.css">
	</head>
	<style>
		.beizhu {
			resize: none;
			width: 400px;
			height: 200px;
			max-width: 400px;
			max-height: 200px;
		}
		.bztext{
			overflow: hidden;
		}
		.bztext>p{
			float: left;
			padding: 20px;
		}
		.bztext>div{
			float: left;
			padding: 20px 0;
		}
	</style>

	<body>
		<div class="shenhe">
			<div class="bztext">
				<p class="bz">取消原因：</p>
				<div>
					<textarea class="beizhu" v-model="remark"></textarea>
				</div>
			</div>
			<div style="clear:both;overflow:hidden;padding:25px 30px 0 0;text-align: center;" class="bt_add">
				<button class="btn btn-default" @click="cancel" style="text-align: center;">取消</button>
				<button class="btn btn-primary" type="submit" @click="save" style="text-align: center;">保存</button>
			</div>
		</div>
	</body>

</html>
<script type="text/javascript">
	var vm = new Vue({
		el: '.shenhe',
		data: {
			remark: ''
		},
		mounted: function() {

		},
		methods: {
			save: function() {
				var self = this;
				var data = {
					command: 'approvemanage/approveofcancel', //接口地址
					sessionid: getCookie('sid'),
					loginid: getCookie('uid'),
					id: window.location.href.split('=')[1],
					remark: self.remark
				};
				function callback(res) {
					window.parent.vm.activeName="second"
					window.parent.vm.show_pending();
					closeAll();
				};
				post('/approvemanage/approveofcancel', data, callback, errcodefn, errfn)
			},
			cancel: function() {
				closeAll();
			}
		}
	})
</script>