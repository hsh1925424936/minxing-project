<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>新建考试</title>
    <script src="../../js/vue.js"></script>
    <script src="../../js/element.js"></script>
    <script src="../../js/jquery-1.11.3.js"></script>
    <script src="../../layer/xie/layer1.js"></script>
    <script src="../../js/futuredoctorapp/common.js"></script>
    <script src="../../js/scmp/common.js"></script>
    <script src="../../js/scmp/pageComponent.js"></script>
    <script src="../../js/base.js"></script>
    <script src="../../bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../../bootstrap-3.3.5-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/element.css">
    <link rel="stylesheet" href="../../css/scmp/scmpcommon.css">
    <style>
        [v-cloak] {
            display: none;
        }
        body {
            padding:10px;
        }
        header {
            margin-bottom:10px;
        }
    </style>
</head>
<body>
    <div id="exam" v-cloak>
        <header>
            <el-button type="info" @click="">新增</el-button>
        </header>
        <section>
            <template>
                <el-table :data="list" border style="width: 100%">
                    <el-table-column prop="index" label="序号" width="180"></el-table-column>
                    <el-table-column prop="name" label="考试名称" width="180"></el-table-column>
                    <el-table-column prop="placename" label="考试地点"></el-table-column>
                    <el-table-column prop="starttime" label="开始时间"></el-table-column>
                    <el-table-column prop="endtime" label="结束时间"></el-table-column>
                    <el-table-column prop="status" label="考试状态"></el-table-column>
                    <el-table-column label="操作">
                        <template scope="scope">
                            <el-button size="small" type="info" @click="">详情</el-button>
                            <el-button size="small" type="info" @click="">编辑</el-button>
                            <el-button size="small" type="danger" @click="">删除</el-button>
                            <el-button size="small" type="danger" @click="">考试报告</el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </template>
        </section>
    </div>
</body>
<script>
    var vm=new Vue({
        el: '#exam',
        data: {

        },
        watch: {

        },
        created:function(){

        },
        mounted: function () {

        },
        methods: {
            init:function(prama,pageindex,pagenum){
                var _this = this;
                var _json = {
                    "1": {
                        command: "cls/teacherlist",
                        sessionid: getCookie('sid'),
                        loginid: getCookie('uid'),
                        roleid: prama,
                        pageno:pageindex,
                        pagesize:pagenum
                    }
                };
                var json = JSON.stringify(_json);
                $.ajax({
                    url: "/cls/teacherlist",
                    type: "POST",
                    data: json,
                    success: function (data) {
                        data = data["1"];
                        if (data.errcode == 0) {
                            _this.userList = [];
                            _this.userList = data.teacherlist;
                            _this.pageconf.totalnum = data.totalnum;
                            _this.pageconf.allpage = Math.ceil(data.totalnum/pagenum);
                        } else if (data.errcode == 9904) {
                            layer.msg("登录信息已失效，请重新登录");
                        }
                    },
                    error: function () {
                        errfn();
                    }
                })
            }
        }
    })
</script>
</html>